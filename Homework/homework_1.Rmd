---
title: "Homework 1"
output: html_notebook
---

```{r}
library(tidyverse)

# setwd("C:/Users/Windows/OneDrive - Middlebury College/Fall2017/Development_Economics")

# df <- as_tibble(read.csv("1.csv"))

df <- as_tibble(read.csv("~/Development-Economics/data/index_test_data.csv"))


# rownames(df) <- df$X

df
```

```{r}
normalize<-function(x){
   (x - min(x)) / (max(x) - min(x))
 }

norm.df <- df %>%
  mutate_if(is.numeric, funs(normalize))

norm.df

```

```{r}
pi.weight <- 0.25
col.weight <- 0.2
lang.weight <- 0.15
amen.weight <- 0.4

sum(pi.weight, col.weight, lang.weight, amen.weight)

weighted.norm.df <- norm.df %>%
  mutate(Pollution.index = Pollution.index * pi.weight) %>%
  mutate(Cost.of.living = Cost.of.living * col.weight) %>%
  mutate(Language = Language * lang.weight) %>%
  mutate(Misc.Amenities = Misc.Amenities * amen.weight)

weighted.norm.df

```



```{r}
weighted.norm.df %>%
    gather(key = var_name, value = value, 2:ncol(weighted.norm.df)) %>% 
    spread_(key = names(weighted.norm.df)[1],value = 'value')


as_tibble(cbind(nms = names(weighted.norm.df), t(weighted.norm.df)))

# %>% 
#    gather(var, value, -rowname) %>% 
#    spread(rowname, value) 

# weighted.norm.df.trans[order(match(weighted.norm.df.trans$var,names(weighted.norm.df))),]
```





